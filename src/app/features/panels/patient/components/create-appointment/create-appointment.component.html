<div class="d-flex">
  <app-patient-sidebar></app-patient-sidebar>
  <div class="flex-grow-1 p-3">
    <h2 class="text-center" style="color: #1565c0;">RANDEVU AL</h2>

    <div class="form-group mb-3">
      <label for="branch">Branş</label>
      <select id="branch" class="form-control" [(ngModel)]="selectedBranch" (change)="onBranchChange()">
        <option *ngFor="let branch of branches" [ngValue]="branch">{{ branch.name }}</option>
      </select>
    </div>

    <div *ngIf="selectedBranch" class="form-group mb-3">
      <label for="doctor">Doktor</label>
      <select id="doctor" class="form-control" [(ngModel)]="selectedDoctor" (change)="onDoctorChange()">
        <option *ngFor="let doctor of doctors" [ngValue]="doctor">{{ doctor.title + " " + doctor.firstName + ' ' + doctor.lastName }}</option>
      </select>
    </div>

    <div *ngIf="selectedDoctor" class="form-group mb-3">
      <label for="date">Tarih</label>
      <select id="date" class="form-control" [(ngModel)]="selectedDate" (change)="onDateChange()">
        <option *ngFor="let date of availableDates" [ngValue]="date">{{ date }}</option>
      </select>
    </div>

    <div *ngIf="selectedDate" class="form-group mb-3">
      <label for="time">Saat</label>
      <select id="time" class="form-control" [(ngModel)]="selectedTime">
        <option *ngFor="let time of timesWithStatus" [ngValue]="time.time" [disabled]="time.disabled">{{ time.time }}</option>
      </select>
    </div>

    <button class="btn btn-primary mt-3" (click)="addAppointment()" [disabled]="!selectedTime">Randevu Al</button>
  </div>
</div>



<!--

<div class="d-flex">
  <app-patient-sidebar></app-patient-sidebar>
  <div class="flex-grow-1 p-3">
    <h2 class="text-center" style="color: #1565c0;">RANDEVU AL</h2>

    <div class="form-group">
      <label for="branch">Branş</label>
      <select id="branch" class="form-control" [(ngModel)]="selectedBranch" (change)="onBranchChange()">
        <option *ngFor="let branch of branches" [ngValue]="branch">{{ branch.name }}</option>
      </select>
    </div>

    <div *ngIf="selectedBranch" class="form-group">
      <label for="doctor">Doktor</label>
      <select id="doctor" class="form-control" [(ngModel)]="selectedDoctor" (change)="onDoctorChange()">
        <option *ngFor="let doctor of doctors" [ngValue]="doctor">{{ doctor.title + " " + doctor.firstName + ' ' + doctor.lastName }}</option>
      </select>
    </div>

    <div *ngIf="selectedDoctor" class="form-group">
      <label for="date">Tarih</label>
      <select id="date" class="form-control" [(ngModel)]="selectedDate" (change)="onDateChange()">
        <option *ngFor="let date of availableDates" [ngValue]="date">{{ date }}</option>
      </select>
    </div>

    <div *ngIf="selectedDate">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Saat</th>
            <th>Durum</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let time of timesWithStatus">
            <td>{{ time.time }}</td>
            <td>
              <button class="btn btn-primary" [disabled]="time.disabled" (click)="">Randevu Al</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div> -->
